{"version":3,"sources":["images/logo.svg","components/Header.js","images/edit.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","props","user","useContext","isOwn","item","owner","_id","isLike","likes","some","length","link","onClick","onClickCard","name","type","onCardDelete","onCardLike","Main","avatar","onEditAvatar","editIconPath","onEditProfile","about","onAddPlace","cards","map","onCardClick","Footer","PopupWithForm","openClass","isOpen","e","target","classList","contains","onClose","action","id","onSubmit","noValidate","title","children","AddPlacePopup","useState","setName","setLink","handleSubmit","preventDefault","placeholder","required","minLength","maxLength","onChange","value","form","EditProfilePopup","description","setDescription","onUpdateUser","useEffect","btnText","String","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","selectedCard","Api","baseUrl","token","this","_baseUrl","_token","res","ok","json","Promise","reject","Error","status","error","console","log","fetch","headers","authorization","then","_handleResponse","newAvatar","method","body","JSON","stringify","info","newCard","cardId","App","currentUser","setCurrentUser","setCards","isOpenEditAvatar","setOpenEditAvatar","isOpenEditProfile","setOpenEditProfile","isOpenAddPlace","setOpenAddPlace","setSelectedCard","closeAllPopups","all","getUserInfo","getInitialCards","userInfo","initialCards","catch","Provider","card","deleteLike","newCards","setLike","deleteCard","message","filter","newInfo","setUserInfo","setUserAvatar","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8MAAe,MAA0B,iCCE1B,SAASA,IACtB,OACE,wBAAQC,UAAU,SAAlB,SACE,qBAAKA,UAAU,OAAOC,IAAKC,EAAUC,IAAI,iDCLhC,UAA0B,iCCE5BC,EAAqBC,IAAMC,gBCCzB,SAASC,EAAKC,GAC3B,IAAMC,EAAOJ,IAAMK,WAAWN,GAExBO,EAAQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAKK,IAEtCC,EAASP,EAAMI,KAAKI,MAAMC,MAAK,SAACL,GAAD,OAAUA,EAAKE,MAAQL,EAAKK,OAE3DE,EAAQR,EAAMI,KAAKI,MAAME,OAAS,EAAIV,EAAMI,KAAKI,MAAME,OAAS,GActE,OACE,sBAAKlB,UAAU,gBAAf,UACE,qBACEC,IAAKO,EAAMI,KAAKO,KAChBhB,IAAI,8FACJH,UAAU,eACVoB,QAlBc,WAClBZ,EAAMa,YAAY,CAAEpB,IAAKO,EAAMI,KAAKO,KAAMG,KAAMd,EAAMI,KAAKU,UAmBxDX,EACC,wBACEX,UAAU,iBACVuB,KAAK,SACLH,QAhBiB,WACvBZ,EAAMgB,aAAahB,EAAMI,SAkBrB,GAGF,sBAAKZ,UAAU,iBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCQ,EAAMI,KAAKU,OAC3C,gCACE,wBACEC,KAAK,SACLvB,UAAS,wBAAmBe,EAAS,uBAAyB,IAC9DK,QAhCc,WACtBZ,EAAMiB,WAAWjB,EAAMI,SAiCjB,mBAAGZ,UAAU,sBAAb,SAAoCgB,aC7C/B,SAASU,EAAKlB,GAC3B,IAAMC,EAAOJ,IAAMK,WAAWN,GAE9B,OACE,uBAAMJ,UAAU,UAAhB,UACE,0BAASA,UAAU,oBAAnB,UACE,sBAAKA,UAAU,UAAf,UACE,sBAAKA,UAAU,4BAAf,UACE,qBACEA,UAAU,kBACVC,IAAKQ,EAAKkB,OACVxB,IAAI,oFAEN,wBACEoB,KAAK,SACLvB,UAAU,sBACVoB,QAASZ,EAAMoB,aAHjB,SAKE,qBACE5B,UAAU,qBACVC,IAAK4B,EACL1B,IAAI,8KAKV,sBAAKH,UAAU,gBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCS,EAAKa,OACrC,wBACEC,KAAK,SACLvB,UAAU,uBACVoB,QAASZ,EAAMsB,mBAGnB,mBAAG9B,UAAU,oBAAb,SAAkCS,EAAKsB,cAG3C,wBACER,KAAK,SACLvB,UAAU,gCACVoB,QAASZ,EAAMwB,gBAGnB,qBAAKhC,UAAU,UAAf,SACGQ,EAAMyB,MAAMC,KAAI,SAACtB,GAChB,OACE,cAACL,EAAD,CAEEK,KAAMA,EACNS,YAAab,EAAM2B,YACnBX,aAAchB,EAAMgB,aACpBC,WAAYjB,EAAMiB,YAJbb,EAAKE,aCrDT,SAASsB,IACtB,OACE,wBAAQpC,UAAU,SAAlB,SACE,mBAAGA,UAAU,iBAAb,sCCHS,SAASqC,EAAc7B,GACpC,IAAM8B,EAAY9B,EAAM+B,OAAS,cAAgB,GAYjD,OACE,qBACEvC,UAAS,wBAAmBQ,EAAMc,KAAzB,YAAiCgB,GAC1ClB,QAbuB,SAACoB,IAExBA,EAAEC,OAAOC,UAAUC,SAAS,WAC5BH,EAAEC,OAAOC,UAAUC,SAAS,iBAC5BH,EAAEC,OAAOC,UAAUC,SAAS,0BAE5BnC,EAAMoC,WAKR,SAIE,sBAAK5C,UAAU,eAAf,UACE,uBACE6C,OAAO,IACP7C,UAAU,kBACV8C,GAAItC,EAAMc,KACVA,KAAMd,EAAMc,KACZyB,SAAUvC,EAAMuC,SAChBC,YAAU,EANZ,UAQE,oBAAIhD,UAAU,gBAAd,SAA+BQ,EAAMyC,QACpCzC,EAAM0C,YAET,wBACE3B,KAAK,SACLvB,UAAU,uBACVoB,QAASZ,EAAMoC,eC9BV,SAASO,EAAc3C,GAAQ,IAAD,EACnBH,IAAM+C,WADa,mBACpC9B,EADoC,KAC9B+B,EAD8B,OAEnBhD,IAAM+C,WAFa,mBAEpCjC,EAFoC,KAE9BmC,EAF8B,KAYrCC,EAAe,SAACf,GACpBhC,EAAMwB,WAAW,CACfV,KAAMA,EACNH,KAAMA,IAGRqB,EAAEgB,kBAGJ,OACE,eAACnB,EAAD,CACEf,KAAK,WACL2B,MAAM,gEACNV,OAAQ/B,EAAM+B,OACdK,QAASpC,EAAMoC,QACfG,SAAUQ,EALZ,UAOE,uBACEhC,KAAK,OACLvB,UAAU,gBACVsB,KAAK,aACLmC,YAAY,mDACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVC,SAjCmB,SAACrB,GACxBa,EAAQb,EAAEC,OAAOqB,UAkCf,sBAAM9D,UAAU,sBAAsB8C,GAAG,oBACzC,uBACEvB,KAAK,MACLvB,UAAU,gBACVsB,KAAK,gBACLmC,YAAY,qGACZC,UAAQ,EACRG,SAtCmB,SAACrB,GACxBc,EAAQd,EAAEC,OAAOqB,UAuCf,sBAAM9D,UAAU,sBAAsB8C,GAAG,uBACzC,wBACEvB,KAAK,SACLH,QAASmC,EACTQ,KAAK,cACL/D,UAAU,iBAJZ,2DChDS,SAASgE,EAAiBxD,GACvC,IAAMC,EAAOJ,IAAMK,WAAWN,GADgB,EAGtBC,IAAM+C,WAHgB,mBAGvC9B,EAHuC,KAGjC+B,EAHiC,OAIRhD,IAAM+C,WAJE,mBAIvCa,EAJuC,KAI1BC,EAJ0B,KAcxCX,EAAe,SAACf,GACpBhC,EAAM2D,aAAa,CACjB7C,KAAMA,EACNS,MAAOkC,IAGTzB,EAAEgB,kBAQJ,OALAnD,IAAM+D,WAAU,WACdf,EAAQ5C,EAAKa,MACb4C,EAAezD,EAAKsB,SACnB,CAACtB,IAGF,eAAC4B,EAAD,CACEf,KAAK,eACL2B,MAAM,4HACNoB,QAAQ,yDACR9B,OAAQ/B,EAAM+B,OACdK,QAASpC,EAAMoC,QACfG,SAAUQ,EANZ,UAQE,uBACEhC,KAAK,OACLvB,UAAU,gBACVsB,KAAK,YACLoC,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVH,YAAY,qBACZK,MAAOQ,OAAOhD,GACduC,SAxCmB,SAACrB,GACxBa,EAAQb,EAAEC,OAAOqB,UAyCf,sBAAM9D,UAAU,sBAAsB8C,GAAG,mBACzC,uBACEvB,KAAK,OACLvB,UAAU,gBACVsB,KAAK,aACLoC,UAAQ,EACRC,UAAU,IACVC,UAAU,MACVH,YAAY,mDACZK,MAAOQ,OAAOL,GACdJ,SAhD0B,SAACrB,GAC/B0B,EAAe1B,EAAEC,OAAOqB,UAiDtB,sBAAM9D,UAAU,sBAAsB8C,GAAG,oBACzC,wBACEvB,KAAK,SACLH,QAASmC,EACTQ,KAAK,kBACL/D,UAAU,iBAJZ,uEC9DS,SAASuE,EAAgB/D,GACtC,IAAMgE,EAAYnE,IAAMoE,SAElBlB,EAAe,SAACf,GACpBhC,EAAMkE,eAAe,CACnB/C,OAAQ6C,EAAUG,QAAQb,QAG5BU,EAAUG,QAAQb,MAAQ,GAE1BtB,EAAEgB,kBAGJ,OACE,eAACnB,EAAD,CACEf,KAAK,cACL2B,MAAM,wFACNV,OAAQ/B,EAAM+B,OACdK,QAASpC,EAAMoC,QACfG,SAAUQ,EALZ,UAOE,uBACEhC,KAAK,MACLvB,UAAU,gBACVsB,KAAK,mBACLmC,YAAY,wHACZC,UAAQ,EACRkB,IAAKJ,IAEP,sBAAMxE,UAAU,sBAAsB8C,GAAG,0BACzC,wBACEvB,KAAK,SACLH,QAASmC,EACTQ,KAAK,iBACL/D,UAAU,iBAJZ,uECjCS,SAASqC,EAAc7B,GACpC,IAAM8B,EACJ9B,EAAMqE,aAAa5E,KAAOO,EAAMqE,aAAavD,KAAO,cAAgB,GAEtE,OACE,qBACEtB,UAAS,wBAAmBQ,EAAMc,KAAzB,YAAiCgB,GAC1ClB,QAASZ,EAAMoC,QAFjB,SAIE,sBAAK5C,UAAU,uBAAuBoB,QAASZ,EAAMoC,QAArD,UACE,qBACE3C,IAAKO,EAAMqE,aAAa5E,IACxBE,IAAKK,EAAMqE,aAAavD,KACxBtB,UAAU,qBAEZ,oBAAIA,UAAU,qBAAd,SAAoCQ,EAAMqE,aAAavD,OACvD,wBACEC,KAAK,SACLvB,UAAU,iDACVoB,QAASZ,EAAMoC,e,kBCgFVkC,EALH,I,WA7FV,WAAYC,EAASC,GAAQ,oBAC3BC,KAAKC,SAAWH,EAChBE,KAAKE,OAASH,E,4DAGAI,GACd,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,IAAIC,MAAJ,gDAAqBL,EAAIM,Y,4BAG3CC,GACJC,QAAQC,IAAIF,K,wCAIZ,OAAOG,MAAM,GAAD,OAAIb,KAAKC,SAAT,UAA2B,CACrCa,QAAS,CACPC,cAAef,KAAKE,UAErBc,KAAKhB,KAAKiB,mB,oCAIb,OAAOJ,MAAM,GAAD,OAAIb,KAAKC,SAAT,aAA8B,CACxCa,QAAS,CACPC,cAAef,KAAKE,UAErBc,KAAKhB,KAAKiB,mB,oCAGDC,GACZ,OAAOL,MAAM,GAAD,OAAIb,KAAKC,SAAT,oBAAqC,CAC/CkB,OAAQ,QACRL,QAAS,CACPC,cAAef,KAAKE,OACpB,eAAgB,oBAElBkB,KAAMC,KAAKC,UAAUJ,KACpBF,KAAKhB,KAAKiB,mB,kCAGHM,GACV,OAAOV,MAAM,GAAD,OAAIb,KAAKC,SAAT,aAA8B,CACxCkB,OAAQ,QACRL,QAAS,CACPC,cAAef,KAAKE,OACpB,eAAgB,oBAElBkB,KAAMC,KAAKC,UAAUC,KACpBP,KAAKhB,KAAKiB,mB,iCAGJO,GACT,OAAOX,MAAM,GAAD,OAAIb,KAAKC,SAAT,UAA2B,CACrCkB,OAAQ,OACRL,QAAS,CACPC,cAAef,KAAKE,OACpB,eAAgB,oBAElBkB,KAAMC,KAAKC,UAAUE,KACpBR,KAAKhB,KAAKiB,mB,iCAGJQ,GACT,OAAOZ,MAAM,GAAD,OAAIb,KAAKC,SAAT,kBAA2BwB,GAAU,CAC/CN,OAAQ,SACRL,QAAS,CACPC,cAAef,KAAKE,UAErBc,KAAKhB,KAAKiB,mB,8BAGPQ,GACN,OAAOZ,MAAM,GAAD,OAAIb,KAAKC,SAAT,wBAAiCwB,GAAU,CACrDN,OAAQ,MACRL,QAAS,CACPC,cAAef,KAAKE,UAErBc,KAAKhB,KAAKiB,mB,iCAGJQ,GACT,OAAOZ,MAAM,GAAD,OAAIb,KAAKC,SAAT,wBAAiCwB,GAAU,CACrDN,OAAQ,SACRL,QAAS,CACPC,cAAef,KAAKE,UAErBc,KAAKhB,KAAKiB,qB,KAIL,CACV,8CACA,wCCsDaS,MA3If,WAAgB,IAAD,EACyBtG,IAAM+C,SAAS,IADxC,mBACNwD,EADM,KACOC,EADP,OAEaxG,IAAM+C,SAAS,IAF5B,mBAENnB,EAFM,KAEC6E,EAFD,OAGiCzG,IAAM+C,UAAS,GAHhD,mBAGN2D,EAHM,KAGYC,EAHZ,OAImC3G,IAAM+C,UAAS,GAJlD,mBAIN6D,EAJM,KAIaC,EAJb,OAK6B7G,IAAM+C,UAAS,GAL5C,mBAKN+D,EALM,KAKUC,EALV,OAM2B/G,IAAM+C,SAAS,IAN1C,mBAMNyB,EANM,KAMQwC,EANR,KAwBPC,EAAiB,WACrBN,GAAkB,GAClBE,GAAmB,GACnBE,GAAgB,GAChBC,EAAgB,KAwElB,OATAhH,IAAM+D,WAAU,WACdmB,QAAQgC,IAAI,CAACzC,EAAI0C,cAAe1C,EAAI2C,oBACjCxB,MAAK,YAA+B,IAAD,mBAA5ByB,EAA4B,KAAlBC,EAAkB,KAClCd,EAAea,GACfZ,EAASa,MAEVC,MAAM9C,EAAI8C,SACZ,IAGD,eAACxH,EAAmByH,SAApB,CAA6B/D,MAAO8C,EAApC,UACE,cAAC7G,EAAD,IACA,cAAC2B,EAAD,CACEI,cA5FyB,WAC7BoF,GAAmB,IA4FflF,WAzFsB,WAC1BoF,GAAgB,IAyFZxF,aAlGwB,WAC5BoF,GAAkB,IAkGd7E,YAvFkB,SAAC2F,GACvBT,EAAgBS,IAuFZ7F,MAAOA,EACPR,WAnDiB,SAACqG,GACNA,EAAK9G,MAAMC,MAAK,SAACL,GAAD,OAAUA,EAAKE,MAAQ8F,EAAY9F,OAGjEgE,EAAIiD,WAAWD,EAAKhH,KACjBmF,MAAK,SAACQ,GACL,IAAMuB,EAAW/F,EAAMC,KAAI,SAACtB,GAAD,OACzBA,EAAKE,MAAQgH,EAAKhH,IAAM2F,EAAU7F,KAEpCkG,EAASkB,MAEVJ,MAAM9C,EAAI8C,OAEb9C,EAAImD,QAAQH,EAAKhH,KACdmF,MAAK,SAACQ,GACL,IAAMuB,EAAW/F,EAAMC,KAAI,SAACtB,GAAD,OACzBA,EAAKE,MAAQgH,EAAKhH,IAAM2F,EAAU7F,KAEpCkG,EAASkB,MAEVJ,MAAM9C,EAAI8C,QAgCXpG,aA7DmB,SAACsG,GACxBhD,EAAIoD,WAAWJ,EAAKhH,KACjBmF,MAAK,SAACkC,GACL,IAAMH,EAAW/F,EAAMmG,QAAO,SAACxH,GAAD,OAAUA,EAAKE,MAAQgH,EAAKhH,OAC1DgG,EAASkB,MAEVJ,MAAM9C,EAAI8C,UAyDX,cAACxF,EAAD,IACA,cAAC4B,EAAD,CACEzB,OAAQ0E,EACRrE,QAAS0E,EACTnD,aA5EmB,SAACkE,GACxBvD,EAAIwD,YAAYD,GACbpC,MAAK,SAACyB,GACLb,EAAea,GACfJ,OAEDM,MAAM9C,EAAI8C,UAwEX,cAACrD,EAAD,CACEhC,OAAQwE,EACRnE,QAAS0E,EACT5C,eA1FqB,SAACyB,GAC1BrB,EAAIyD,cAAcpC,GACfF,MAAK,SAACyB,GACLb,EAAea,GACfJ,OAEDM,MAAM9C,EAAI8C,UAuFX,cAACzE,EAAD,CACEZ,OAAQ4E,EACRvE,QAAS0E,EACTtF,WA7CiB,SAAC8F,GACtBhD,EAAI0D,WAAWV,GACZ7B,MAAK,SAACQ,GACLK,EAAS,CAACL,GAAF,mBAAcxE,KACtBqF,OAEDM,MAAM9C,EAAI8C,UA0CX,cAAC,EAAD,CACEtG,KAAK,cACLuD,aAAcA,EACdjC,QAAS0E,QCpIFmB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB1C,MAAK,YAAkD,IAA/C2C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.adc795e0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logoPath from \"../images/logo.svg\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"logo\" src={logoPath} alt=\"Логотип\" />\r\n    </header>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/edit.a086f758.svg\";","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport React from \"react\";\r\n\r\nexport default function Card(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.item.owner._id === user._id;\r\n\r\n  const isLike = props.item.likes.some((item) => item._id === user._id);\r\n\r\n  const likes = props.item.likes.length > 0 ? props.item.likes.length : \"\";\r\n\r\n  const handleClick = () => {\r\n    props.onClickCard({ src: props.item.link, name: props.item.name });\r\n  };\r\n\r\n  const handleLikeClick = () => {\r\n    props.onCardLike(props.item);\r\n  };\r\n\r\n  const handleTrashClick = () => {\r\n    props.onCardDelete(props.item);\r\n  };\r\n\r\n  return (\r\n    <div className=\"gallery__item\">\r\n      <img\r\n        src={props.item.link}\r\n        alt=\"картинка галереи\"\r\n        className=\"gallery__img\"\r\n        onClick={handleClick}\r\n      />\r\n      {isOwn ? (\r\n        <button\r\n          className=\"gallery__trash\"\r\n          type=\"button\"\r\n          onClick={handleTrashClick}\r\n        ></button>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      <div className=\"gallery__label\">\r\n        <h2 className=\"gallery__title\">{props.item.name}</h2>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className={`gallery__like ${isLike ? \"gallery__like_active\" : \"\"}`}\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <p className=\"gallery__like-count\">{likes}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import editIconPath from \"../images/edit.svg\";\r\nimport Card from \"./Card\";\r\nimport React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Main(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile-container\">\r\n        <div className=\"profile\">\r\n          <div className=\"profile__avatar-container\">\r\n            <img\r\n              className=\"profile__avatar\"\r\n              src={user.avatar}\r\n              alt=\"Аватар профиля\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__avatar-btn\"\r\n              onClick={props.onEditAvatar}\r\n            >\r\n              <img\r\n                className=\"profile__edit-icon\"\r\n                src={editIconPath}\r\n                alt=\"иконка редактирования аватара\"\r\n              />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__header\">\r\n              <h1 className=\"profile__title\">{user.name}</h1>\r\n              <button\r\n                type=\"button\"\r\n                className=\"profile__edit-button\"\r\n                onClick={props.onEditProfile}\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__subtitle\">{user.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile-container__add-button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <div className=\"gallery\">\r\n        {props.cards.map((item) => {\r\n          return (\r\n            <Card\r\n              key={item._id}\r\n              item={item}\r\n              onClickCard={props.onCardClick}\r\n              onCardDelete={props.onCardDelete}\r\n              onCardLike={props.onCardLike}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","export default function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__author\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n","export default function PopupWithForm(props) {\r\n  const openClass = props.isOpen ? \"dialog_show\" : \"\";\r\n\r\n  const overlayClickHandle = (e) => {\r\n    if (\r\n      e.target.classList.contains(\"dialog\") ||\r\n      e.target.classList.contains(\"dialog__form\") ||\r\n      e.target.classList.contains(\"dialog__content-card\")\r\n    ) {\r\n      props.onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`dialog dialog_${props.name} ${openClass}`}\r\n      onClick={overlayClickHandle}\r\n    >\r\n      <div className=\"dialog__form\">\r\n        <form\r\n          action=\"#\"\r\n          className=\"dialog__content\"\r\n          id={props.name}\r\n          name={props.name}\r\n          onSubmit={props.onSubmit}\r\n          noValidate\r\n        >\r\n          <h3 className=\"dialog__title\">{props.title}</h3>\r\n          {props.children}\r\n        </form>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"dialog__close-button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nexport default function AddPlacePopup(props) {\r\n  const [name, setName] = React.useState();\r\n  const [link, setLink] = React.useState();\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleLinkChange = (e) => {\r\n    setLink(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"dialog__input\"\r\n        name=\"inputTitle\"\r\n        placeholder=\"Название\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className=\"dialog__error-label\" id=\"inputTitleError\"></span>\r\n      <input\r\n        type=\"url\"\r\n        className=\"dialog__input\"\r\n        name=\"inputImageUrl\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        onChange={handleLinkChange}\r\n      />\r\n      <span className=\"dialog__error-label\" id=\"inputImageUrlError\"></span>\r\n      <button\r\n        type=\"submit\"\r\n        onClick={handleSubmit}\r\n        form=\"addCardForm\"\r\n        className=\"dialog__submit\"\r\n      >\r\n        Создать\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function EditProfilePopup(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState();\r\n  const [description, setDescription] = React.useState();\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleDescriptionChange = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n\r\n    e.preventDefault();\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setName(user.name);\r\n    setDescription(user.about);\r\n  }, [user]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      btnText=\"Сохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"dialog__input\"\r\n        name=\"inputName\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        placeholder=\"Имя\"\r\n        value={String(name)}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className=\"dialog__error-label\" id=\"inputNameError\"></span>\r\n      <input\r\n        type=\"text\"\r\n        className=\"dialog__input\"\r\n        name=\"inputAbout\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        placeholder=\"Описание\"\r\n        value={String(description)}\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span className=\"dialog__error-label\" id=\"inputAboutError\"></span>\r\n      <button\r\n        type=\"submit\"\r\n        onClick={handleSubmit}\r\n        form=\"editProfileForm\"\r\n        className=\"dialog__submit\"\r\n      >\r\n        Сохранить\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nexport default function EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n\r\n  const handleSubmit = (e) => {\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n\r\n    avatarRef.current.value = \"\";\r\n\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"url\"\r\n        className=\"dialog__input\"\r\n        name=\"inputNewImageUrl\"\r\n        placeholder=\"Ссылка на новый аватар\"\r\n        required\r\n        ref={avatarRef}\r\n      />\r\n      <span className=\"dialog__error-label\" id=\"inputNewImageUrlError\"></span>\r\n      <button\r\n        type=\"submit\"\r\n        onClick={handleSubmit}\r\n        form=\"editAvatarForm\"\r\n        className=\"dialog__submit\"\r\n      >\r\n        Сохранить\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","export default function PopupWithForm(props) {\r\n  const openClass =\r\n    props.selectedCard.src && props.selectedCard.name ? \"dialog_show\" : \"\";\r\n\r\n  return (\r\n    <div\r\n      className={`dialog dialog_${props.name} ${openClass}`}\r\n      onClick={props.onClose}\r\n    >\r\n      <div className=\"dialog__content-card\" onClick={props.onClose}>\r\n        <img\r\n          src={props.selectedCard.src}\r\n          alt={props.selectedCard.name}\r\n          className=\"dialog__img-card\"\r\n        />\r\n        <h2 className=\"dialog__title-card\">{props.selectedCard.name}</h2>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"dialog__close-button dialog__close-button_card\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","class api {\r\n  constructor(baseUrl, token) {\r\n    this._baseUrl = baseUrl;\r\n    this._token = token;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n  }\r\n\r\n  catch(error) {\r\n    console.log(error);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setUserAvatar(newAvatar) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(newAvatar),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setUserInfo(info) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(info),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  addNewCard(newCard) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(newCard),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setLike(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  deleteLike(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n}\r\n\r\nconst Api = new api(\r\n  \"https://mesto.nomoreparties.co/v1/cohort-19\",\r\n  \"89348099-1c1a-4669-810a-e3803229c3b9\"\r\n);\r\n\r\nexport default Api;\r\n","import Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport Api from \"../utils/api\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isOpenEditAvatar, setOpenEditAvatar] = React.useState(false);\n  const [isOpenEditProfile, setOpenEditProfile] = React.useState(false);\n  const [isOpenAddPlace, setOpenAddPlace] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const handleEditAvatarClick = () => {\n    setOpenEditAvatar(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setOpenEditProfile(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setOpenAddPlace(true);\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  const closeAllPopups = () => {\n    setOpenEditAvatar(false);\n    setOpenEditProfile(false);\n    setOpenAddPlace(false);\n    setSelectedCard({});\n  };\n\n  const handleUpdateAvatar = (newAvatar) => {\n    Api.setUserAvatar(newAvatar)\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n        closeAllPopups();\n      })\n      .catch(Api.catch);\n  };\n\n  const handleUpdateUser = (newInfo) => {\n    Api.setUserInfo(newInfo)\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n        closeAllPopups();\n      })\n      .catch(Api.catch);\n  };\n\n  const handleCardDelete = (card) => {\n    Api.deleteCard(card._id)\n      .then((message) => {\n        const newCards = cards.filter((item) => item._id !== card._id);\n        setCards(newCards);\n      })\n      .catch(Api.catch);\n  };\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((item) => item._id === currentUser._id);\n\n    if (isLiked) {\n      Api.deleteLike(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((item) =>\n            item._id === card._id ? newCard : item\n          );\n          setCards(newCards);\n        })\n        .catch(Api.catch);\n    } else {\n      Api.setLike(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((item) =>\n            item._id === card._id ? newCard : item\n          );\n          setCards(newCards);\n        })\n        .catch(Api.catch);\n    }\n  };\n\n  const handleAddPlace = (card) => {\n    Api.addNewCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(Api.catch);\n  };\n\n  React.useEffect(() => {\n    Promise.all([Api.getUserInfo(), Api.getInitialCards()])\n      .then(([userInfo, initialCards]) => {\n        setCurrentUser(userInfo);\n        setCards(initialCards);\n      })\n      .catch(Api.catch);\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onEditAvatar={handleEditAvatarClick}\n        onCardClick={handleCardClick}\n        cards={cards}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n      />\n      <Footer />\n      <EditProfilePopup\n        isOpen={isOpenEditProfile}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n      <EditAvatarPopup\n        isOpen={isOpenEditAvatar}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n\n      <AddPlacePopup\n        isOpen={isOpenAddPlace}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlace}\n      />\n\n      <ImagePopup\n        name=\"detail-card\"\n        selectedCard={selectedCard}\n        onClose={closeAllPopups}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}